export const metadata = {
  title: 'AT Protocol',
  description: 'Authenticated Transfer Protocol (AT Protocol)의 명세',
}

# AT Protocol

Authenticated Transfer Protocol (AT Protocol 또는 atproto)은 개방형 소셜 미디어 애플리케이션 구축을 위한 범용 연합 프로토콜입니다. 다음은 이 프로토콜의 반복적으로 등장하는 주제와 특징들입니다. {{ className: 'lead' }}

- 사용자 데이터와 신원의 자체 인증: 원활한 계정 이전 및 콘텐츠 재배포를 가능하게 합니다. {{ className: 'lead' }}
- "빅 월드" 사용 사례에 맞춘 설계: 수십억 계정에 확장할 수 있습니다. {{ className: 'lead' }}
- 애플리케이션 계층 스키마와 집계 인프라에 대한 위임된 권한 부여. {{ className: 'lead' }}
- dweb 프로토콜 계열의 기존 데이터 모델과 웹 플랫폼의 네트워크 원시 요소 재사용. {{ className: 'lead' }}

## 프로토콜 구조

**신원:** 계정 제어는 안정적인 [DID](/specs/did) 식별자에 기반하며, 이를 통해 현재 서비스 제공 위치와 계정에 연관된 [암호화 키](/specs/cryptography)를 신속하게 확인할 수 있습니다. [핸들](/specs/handle)은 계정을 보다 인간 친화적이고 변경 가능한 식별자로 제공합니다.

**데이터:** 공개 콘텐츠는 내용 기반 주소 지정 및 암호학적으로 검증 가능한 [레포지토리](/specs/repository)에 저장됩니다. 데이터 레코드와 네트워크 메시지는 모두 통합된 [데이터 모델](/specs/data-model)을 따르며, [CBOR](https://en.wikipedia.org/wiki/CBOR)와 JSON 형식을 지원합니다. [라벨](/specs/label)은 개별 서명이 포함된 경량 메타데이터로, 레포지토리 외부에서 배포됩니다.

**네트워크:** HTTP 클라이언트-서버 및 서버-서버 [API](/specs/xrpc)는 Lexicon을 사용하여 기술되며, WebSocket [이벤트 스트림](/specs/event-stream)도 동일한 방식으로 정의됩니다. 개별 레코드는 네트워크 상에서 [AT URI](/specs/at-uri-scheme)를 통해 참조할 수 있습니다. [개인 데이터 서버(PDS)](/specs/account)는 계정의 신뢰할 수 있는 대리인 역할을 하며, 클라이언트의 네트워크 요청을 라우팅하고 레포지토리를 호스팅합니다. 또한, 릴레이는 여러 레포지토리를 크롤링하여 통합된 이벤트 [Firehose](/specs/sync)를 제공합니다.

**애플리케이션:** atproto 위에서 구축된 애플리케이션의 API와 레코드 스키마는 [Lexicon](/specs/lexicon)으로 지정되며, [Namespaced Identifiers](/specs/nsid) (NSID)를 통해 참조됩니다. 애플리케이션별 집계(예: 검색)는 애플리케이션 뷰(App View) 서비스를 통해 제공됩니다. 클라이언트에는 모바일 앱, 데스크톱 소프트웨어, 웹 인터페이스 등이 포함됩니다.

AT Protocol 자체는 팔로우나 아바타와 같은 일반적인 소셜 미디어 관례를 규정하지 않으며, 이는 애플리케이션 수준의 Lexicon에 위임됩니다. `com.atproto.*` Lexicon은 계정 가입, 로그인 등 일반 API를 제공하며, 이는 AT Protocol의 일부로 간주될 수 있으나 필요에 따라 확장 또는 대체될 수 있습니다. Bluesky는 `app.bsky.*` 네임스페이스 하에 Lexicon을 사용하여 구현된 AT Protocol 기반의 마이크로블로깅 소셜 애플리케이션입니다.

또한, atproto는 IPFS 생태계의 여러 포맷과 명세(IPLD, CID 등)를 차용하지만, atproto 데이터가 반드시 IPFS 네트워크에 저장될 필요는 없으며, 참조 구현 역시 IPFS 네트워크를 사용하지 않습니다.

## 프로토콜 확장 및 애플리케이션

AT Protocol은 제3자 애플리케이션 개발에 유연성을 부여하면서도 안정성과 상호 운용성을 유지하도록 설계되었습니다.

핵심 프로토콜 확장 메커니즘은 독립적인 네임스페이스 하에서 새로운 Lexicon을 개발하는 것입니다. Lexicon은 새로운 레포지토리 레코드 스키마(NSID를 통해 저장됨), 새로운 HTTP API 엔드포인트, 그리고 새로운 이벤트 스트림 엔드포인트와 메시지 유형을 선언할 수 있습니다. 또한, 새로운 애플리케이션은 새로운 네트워크 집계 서비스(예: AppView) 및 클라이언트 애플리케이션(모바일 앱이나 웹 인터페이스 등)을 필요로 할 수 있습니다.

제3자들은 네임스페이스 간에 Lexicon과 레코드 데이터를 재사용할 수 있으며, 예를 들어 새로운 애플리케이션은 `bsky.app` 권한이 관리하는 스키마를 준수하는 한 `app.bsky.*` Lexicon에 명시된 소셜 그래프 레코드를 활용할 수 있습니다.

개별 Lexicon 네임스페이스의 거버넌스 구조는 자원봉사 커뮤니티, 기업, 컨소시엄, 학계 연구진, 후원 비영리 단체 등 다양한 주체에 의해 관리될 수 있습니다.

## 누락된 부분

이 명세서는 Bluesky의 참조 구현에서 구현된 대부분의 세부 사항을 다룹니다. 그러나 해당 참조 구현과 이 명세서 모두에서 아직 최종 확정되지 않은 몇 가지 중요한 원시 요소가 남아 있습니다.

**모더레이션 원시 요소:** 모더레이션 보고 처리 및 인프라 수준의 콘텐츠 삭제를 위한 `com.atproto.admin.*` 경로는 Lexicon에 명시되어 있으나, 이에 대한 추가적인 설명이 필요합니다.

**Lexicon 해상도:** 주어진 타입 이름(NSID)에 대해 Lexicon 스키마 정의 파일을 자동으로 조회하고 가져오는 방법이 요구됩니다.

## 향후 작업

개별 명세 문서에서 다루는 소규모 변경 사항 외에도, 전체 프로토콜에 걸친 몇 가지 대규모 변경 사항이 계획되어 있습니다.

**비공개 콘텐츠:** 개인 그룹 및 일대일 통신을 위한 메커니즘은 프로토콜 개발의 두 번째 단계로 진행될 예정입니다. 여기에는 "비공개 계정", 다이렉트 메시지, 암호화된 데이터 등의 원시 요소가 포함됩니다. 기존 프로토콜 원시 요소에 단순히 암호화나 비공개 콘텐츠 기능을 추가하는 방식은 권장되지 않습니다.

**프로토콜 거버넌스 및 정식 표준 프로세스:** 현재의 개발 초점은 개방형 연합을 포함한 모든 핵심 프로토콜 기능을 참조 구현을 통해 입증하는 것입니다. 그 후, 하위 프로토콜을 안정화하고 IETF 또는 W3C와 같은 표준화 기구를 통해 명세를 독립적으로 검토 및 수정할 계획입니다.
